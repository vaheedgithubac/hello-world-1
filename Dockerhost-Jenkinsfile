pipeline {
    agent any
   
    options {
        timestamps()
    }
    
    tools {
        maven 'Maven-363'
    }
    
    
    stages {
    
        stage('Maven Build') {
            steps {
                sh 'mvn clean install package'
            }
        } // stage
        
        
        stage('Copy Artifact to Docker-Host') {
            steps {
                sshagent(['Docker-Host-Creds']) {
                   sh "scp -o StrictHostKeyChecking=no webapp/target/webapp.war dockeradmin@172.31.43.177:/home/dockeradmin
"
                }
            }
        } // stage
     } //stages
} //pipeline
